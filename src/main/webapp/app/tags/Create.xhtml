<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core">

    <ui:composition template="/tmpl/MainWindow.xhtml">

        <ui:define name="title">
            <h:outputText value="#{OBI.CreateTagsTitle}"></h:outputText>
        </ui:define>


        <ui:define name="body">
            <h:panelGroup id="messagePanel" layout="block">
                <h:messages errorStyle="color: red" infoStyle="color: green" layout="table"/>
            </h:panelGroup>

            <!--            
                        <h:outputLabel value="#{OBI.CreateTagsLabel_id}" for="id" />
                                <h:inputText id="id" value="#{tagsController.selected.id}" title="#{OBI.CreateTagsTitle_id}" required="true" requiredMessage="#{OBI.CreateTagsRequiredMessage_id}"/>
                                <h:outputLabel value="#{OBI.CreateTagsLabel_deleted}" for="deleted" />
                                <h:inputText id="deleted" value="#{tagsController.selected.deleted}" title="#{OBI.CreateTagsTitle_deleted}" />
                                <h:outputLabel value="#{OBI.CreateTagsLabel_created}" for="created" />
                                <h:inputText id="created" value="#{tagsController.selected.created}" title="#{OBI.CreateTagsTitle_created}" >
                                    <f:convertDateTime pattern="MM/dd/yyyy HH:mm:ss" />
                                </h:inputText>
                                <h:outputLabel value="#{OBI.CreateTagsLabel_changed}" for="changed" />
                                <h:inputText id="changed" value="#{tagsController.selected.changed}" title="#{OBI.CreateTagsTitle_changed}" >
                                    <f:convertDateTime pattern="MM/dd/yyyy HH:mm:ss" />
                                </h:inputText>
            -->


            <h:form>
                <h:panelGrid columns="2">
                    <h:outputLabel value="#{OBI.CreateTagsLabel_name}" for="name" />
                    <h:inputText id="name" value="#{tagsController.selected.name}" title="#{OBI.CreateTagsTitle_name}" required="true" requiredMessage="#{OBI.CreateTagsRequiredMessage_name}"/>

                    <h:outputLabel value="#{OBI.CreateTagsLabel_company}" for="company" />
                    <h:selectOneMenu id="company" value="#{tagsController.selected.company}" title="#{OBI.CreateTagsTitle_company}" required="true" requiredMessage="#{OBI.CreateTagsRequiredMessage_company}">
                        <f:selectItems value="#{companiesController.itemsAvailableSelectOne}"/>
                    </h:selectOneMenu>


                    <h:outputLabel value="Connections" styleClass="text-end fw-bold"/><hr />
                    <h:outputLabel value="#{OBI.CreateTagsLabel_table}" for="table" />
                    <h:selectOneMenu id="table" value="#{tagsController.selected.table}" title="#{OBI.CreateTagsTitle_table}" >
                        <f:selectItems value="#{tagsTablesController.itemsAvailableSelectOne}"/>
                    </h:selectOneMenu>
                    <h:outputLabel value="#{OBI.CreateTagsLabel_machine}" for="machine" />
                    <h:selectOneMenu id="machine" value="#{tagsController.selected.machine}" title="#{OBI.CreateTagsTitle_machine}" required="true" requiredMessage="#{OBI.CreateTagsRequiredMessage_machine}">
                        <f:selectItems value="#{machinesController.itemsAvailableSelectOne}"/>
                    </h:selectOneMenu>
                    <h:outputLabel value="#{OBI.CreateTagsLabel_type}" for="type" />
                    <h:selectOneMenu id="type" value="#{tagsController.selected.type}" title="#{OBI.CreateTagsTitle_type}" required="true" requiredMessage="#{OBI.CreateTagsRequiredMessage_type}">
                        <f:selectItems value="#{tagsTypesController.itemsAvailableSelectOne}"/>
                    </h:selectOneMenu>
                    <h:outputLabel value="#{OBI.CreateTagsLabel_memory}" for="memory" />
                    <h:selectOneMenu id="memory" value="#{tagsController.selected.memory}" title="#{OBI.CreateTagsTitle_memory}" required="true" requiredMessage="#{OBI.CreateTagsRequiredMessage_memory}">
                        <f:selectItems value="#{tagsMemoriesController.itemsAvailableSelectOne}"/>
                    </h:selectOneMenu>
                    <h:outputLabel value="#{OBI.CreateTagsLabel_db}" for="db" />
                    <h:inputText id="db" value="#{tagsController.selected.db}" title="#{OBI.CreateTagsTitle_db}" />
                    <h:outputLabel value="#{OBI.CreateTagsLabel_byte1}" for="byte1" />
                    <h:inputText id="byte1" value="#{tagsController.selected.byte1}" title="#{OBI.CreateTagsTitle_byte1}" />
                    <h:outputLabel value="#{OBI.CreateTagsLabel_bit}" for="bit" />
                    <h:inputText id="bit" value="#{tagsController.selected.bit}" title="#{OBI.CreateTagsTitle_bit}" />


                    <h:outputLabel value="Collection" styleClass="text-end fw-bold"/><hr />
                    <h:outputLabel value="#{OBI.CreateTagsLabel_active}" for="active" />
                    <h:inputText id="active" value="#{tagsController.selected.active}" title="#{OBI.CreateTagsTitle_active}" />
                    <h:outputLabel value="#{OBI.CreateTagsLabel_cycle}" for="cycle" />
                    <h:inputText id="cycle" value="#{tagsController.selected.cycle}" title="#{OBI.CreateTagsTitle_cycle}" />
                    <h:outputLabel value="#{OBI.CreateTagsLabel_delta}" for="delta" />
                    <h:inputText id="delta" value="#{tagsController.selected.delta}" title="#{OBI.CreateTagsTitle_delta}" />
                    <h:outputLabel value="#{OBI.CreateTagsLabel_deltaFloat}" for="deltaFloat" />
                    <h:inputText id="deltaFloat" value="#{tagsController.selected.deltaFloat}" title="#{OBI.CreateTagsTitle_deltaFloat}" />
                    <h:outputLabel value="#{OBI.CreateTagsLabel_deltaInt}" for="deltaInt" />
                    <h:inputText id="deltaInt" value="#{tagsController.selected.deltaInt}" title="#{OBI.CreateTagsTitle_deltaInt}" />
                    <h:outputLabel value="#{OBI.CreateTagsLabel_deltaBool}" for="deltaBool" />
                    <h:inputText id="deltaBool" value="#{tagsController.selected.deltaBool}" title="#{OBI.CreateTagsTitle_deltaBool}" />
                    <h:outputLabel value="#{OBI.CreateTagsLabel_deltaDateTime}" for="deltaDateTime" />
                    <h:inputText id="deltaDateTime" value="#{tagsController.selected.deltaDateTime}" title="#{OBI.CreateTagsTitle_deltaDateTime}" />



                    <h:outputLabel value="Valeur actuel" styleClass="text-end fw-bold"/><hr />
                    <h:outputLabel value="#{OBI.CreateTagsLabel_VFloat}" for="VFloat" />
                    <h:inputText disabled="true" id="VFloat" value="#{tagsController.selected.VFloat}" title="#{OBI.CreateTagsTitle_VFloat}" />
                    <h:outputLabel value="#{OBI.CreateTagsLabel_VInt}" for="VInt" />
                    <h:inputText disabled="true" id="VInt" value="#{tagsController.selected.VInt}" title="#{OBI.CreateTagsTitle_VInt}" />
                    <h:outputLabel value="#{OBI.CreateTagsLabel_VBool}" for="VBool" />
                    <h:inputText disabled="true" id="VBool" value="#{tagsController.selected.VBool}" title="#{OBI.CreateTagsTitle_VBool}" />
                    <h:outputLabel value="#{OBI.CreateTagsLabel_VStr}" for="VStr" />
                    <h:inputText disabled="true" id="VStr" value="#{tagsController.selected.VStr}" title="#{OBI.CreateTagsTitle_VStr}" />
                    <h:outputLabel value="#{OBI.CreateTagsLabel_VDateTime}" for="VDateTime" />
                    <h:inputText disabled="true" id="VDateTime" value="#{tagsController.selected.VDateTime}" title="#{OBI.CreateTagsTitle_VDateTime}" >
                        <f:convertDateTime pattern="MM/dd/yyyy HH:mm:ss" />
                    </h:inputText>
                    <h:outputLabel value="#{OBI.CreateTagsLabel_VStamp}" for="VStamp" />
                    <h:inputText disabled="true" id="VStamp" value="#{tagsController.selected.VStamp}" title="#{OBI.CreateTagsTitle_VStamp}" >
                        <f:convertDateTime pattern="MM/dd/yyyy HH:mm:ss" />
                    </h:inputText>


                    <h:outputLabel value="Valeur par dÃ©faut" styleClass="text-end fw-bold"/><hr />
                    <h:outputLabel value="#{OBI.CreateTagsLabel_VDefault}" for="VDefault" />
                    <h:inputText id="VDefault" value="#{tagsController.selected.VDefault}" title="#{OBI.CreateTagsTitle_VDefault}" />
                    <h:outputLabel value="#{OBI.CreateTagsLabel_VFloatDefault}" for="VFloatDefault" />
                    <h:inputText id="VFloatDefault" value="#{tagsController.selected.VFloatDefault}" title="#{OBI.CreateTagsTitle_VFloatDefault}" />
                    <h:outputLabel value="#{OBI.CreateTagsLabel_VIntDefault}" for="VIntDefault" />
                    <h:inputText id="VIntDefault" value="#{tagsController.selected.VIntDefault}" title="#{OBI.CreateTagsTitle_VIntDefault}" />
                    <h:outputLabel value="#{OBI.CreateTagsLabel_VBoolDefault}" for="VBoolDefault" />
                    <h:inputText id="VBoolDefault" value="#{tagsController.selected.VBoolDefault}" title="#{OBI.CreateTagsTitle_VBoolDefault}" />
                    <h:outputLabel value="#{OBI.CreateTagsLabel_VStrDefault}" for="VStrDefault" />
                    <h:inputText id="VStrDefault" value="#{tagsController.selected.VStrDefault}" title="#{OBI.CreateTagsTitle_VStrDefault}" />
                    <h:outputLabel value="#{OBI.CreateTagsLabel_VDateTimeDefault}" for="VDateTimeDefault" />
                    <h:inputText id="VDateTimeDefault" value="#{tagsController.selected.VDateTimeDefault}" title="#{OBI.CreateTagsTitle_VDateTimeDefault}" >
                        <f:convertDateTime pattern="MM/dd/yyyy HH:mm:ss" />
                    </h:inputText>
                    <h:outputLabel value="#{OBI.CreateTagsLabel_VStampDefault}" for="VStampDefault" />
                    <h:inputText id="VStampDefault" value="#{tagsController.selected.VStampDefault}" title="#{OBI.CreateTagsTitle_VStampDefault}" >
                        <f:convertDateTime pattern="MM/dd/yyyy HH:mm:ss" />
                    </h:inputText>


                    <h:outputLabel value="Compteurs" styleClass="text-end fw-bold"/><hr />
                    <h:outputLabel value="#{OBI.CreateTagsLabel_counter}" for="counter" />
                    <h:inputText id="counter" value="#{tagsController.selected.counter}" title="#{OBI.CreateTagsTitle_counter}" />
                    <h:outputLabel value="#{OBI.CreateTagsLabel_counterType}" for="counterType" />
                    <h:inputText id="counterType" value="#{tagsController.selected.counterType}" title="#{OBI.CreateTagsTitle_counterType}" />

                    <h:outputLabel value="Mesures" styleClass="text-end fw-bold"/><hr />
                    <h:outputLabel value="#{OBI.CreateTagsLabel_mesure}" for="mesure" />
                    <h:inputText id="mesure" value="#{tagsController.selected.mesure}" title="#{OBI.CreateTagsTitle_mesure}" />
                    <h:outputLabel value="#{OBI.CreateTagsLabel_mesureMin}" for="mesureMin" />
                    <h:inputText id="mesureMin" value="#{tagsController.selected.mesureMin}" title="#{OBI.CreateTagsTitle_mesureMin}" />
                    <h:outputLabel value="#{OBI.CreateTagsLabel_mesureMax}" for="mesureMax" />
                    <h:inputText id="mesureMax" value="#{tagsController.selected.mesureMax}" title="#{OBI.CreateTagsTitle_mesureMax}" />
                    <h:outputLabel value="#{OBI.CreateTagsLabel_measureUnit}" for="measureUnit" />
                    <h:selectOneMenu id="measureUnit" value="#{tagsController.selected.measureUnit}" title="#{OBI.CreateTagsTitle_measureUnit}" >
                        <f:selectItems value="#{measUnitsController.itemsAvailableSelectOne}"/>
                    </h:selectOneMenu>


                    <h:outputLabel value="MQTT" styleClass="text-end fw-bold"/><hr />
                    <h:outputLabel value="#{OBI.CreateTagsLabel_mqttTopic}" for="mqttTopic" />
                    <h:inputText id="mqttTopic" value="#{tagsController.selected.mqttTopic}" title="#{OBI.CreateTagsTitle_mqttTopic}" />



                    <h:outputLabel value="WEBHOOK" styleClass="text-end fw-bold"/><hr />
                    <h:outputLabel value="#{OBI.CreateTagsLabel_webhook}" for="webhook" />
                    <h:inputText id="webhook" value="#{tagsController.selected.webhook}" title="#{OBI.CreateTagsTitle_webhook}" />


                    <h:outputLabel value="LINKS" styleClass="text-end fw-bold"/><hr />
                    <h:outputLabel value="#{OBI.CreateTagsLabel_laboratory}" for="laboratory" />
                    <h:inputText id="laboratory" value="#{tagsController.selected.laboratory}" title="#{OBI.CreateTagsTitle_laboratory}" />

                    <h:outputLabel /> <hr />
                    <h:outputLabel value="#{OBI.CreateTagsLabel_formula}" for="formula" />
                    <h:inputText id="formula" value="#{tagsController.selected.formula}" title="#{OBI.CreateTagsTitle_formula}" />
                    <h:outputLabel value="#{OBI.CreateTagsLabel_formCalculus}" for="formCalculus" />
                    <h:inputText id="formCalculus" value="#{tagsController.selected.formCalculus}" title="#{OBI.CreateTagsTitle_formCalculus}" />
                    <h:outputLabel value="#{OBI.CreateTagsLabel_formProcessing}" for="formProcessing" />
                    <h:inputText id="formProcessing" value="#{tagsController.selected.formProcessing}" title="#{OBI.CreateTagsTitle_formProcessing}" />

                    <h:outputLabel /> <hr />
                    <h:outputLabel value="#{OBI.CreateTagsLabel_error}" for="error" />
                    <h:inputText id="error" value="#{tagsController.selected.error}" title="#{OBI.CreateTagsTitle_error}" />
                    <h:outputLabel value="#{OBI.CreateTagsLabel_errorMsg}" for="errorMsg" />
                    <h:inputText id="errorMsg" value="#{tagsController.selected.errorMsg}" title="#{OBI.CreateTagsTitle_errorMsg}" />
                    <h:outputLabel value="#{OBI.CreateTagsLabel_errorStamp}" for="errorStamp" />
                    <h:inputText id="errorStamp" value="#{tagsController.selected.errorStamp}" title="#{OBI.CreateTagsTitle_errorStamp}" >
                        <f:convertDateTime pattern="MM/dd/yyyy HH:mm:ss" />
                    </h:inputText>

                    <h:outputLabel /> <hr />
                    <h:outputLabel value="#{OBI.CreateTagsLabel_alarmEnable}" for="alarmEnable" />
                    <h:inputText id="alarmEnable" value="#{tagsController.selected.alarmEnable}" title="#{OBI.CreateTagsTitle_alarmEnable}" />
                    <h:outputLabel value="#{OBI.CreateTagsLabel_alarm}" for="alarm" />
                    <h:selectOneMenu id="alarm" value="#{tagsController.selected.alarm}" title="#{OBI.CreateTagsTitle_alarm}" >
                        <f:selectItems value="#{alarmsController.itemsAvailableSelectOne}"/>
                    </h:selectOneMenu>

                    <h:outputLabel value="PERSISTENCE" styleClass="text-end fw-bold"/><hr />
                    <h:outputLabel value="#{OBI.CreateTagsLabel_persistenceEnable}" for="persistenceEnable" />
                    <h:inputText id="persistenceEnable" value="#{tagsController.selected.persistenceEnable}" title="#{OBI.CreateTagsTitle_persistenceEnable}" />
                    <h:outputLabel value="#{OBI.CreateTagsLabel_persOffsetEnable}" for="persOffsetEnable" />
                    <h:inputText id="persOffsetEnable" value="#{tagsController.selected.persOffsetEnable}" title="#{OBI.CreateTagsTitle_persOffsetEnable}" />
                    <h:outputLabel value="#{OBI.CreateTagsLabel_persOffsetFloat}" for="persOffsetFloat" />
                    <h:inputText id="persOffsetFloat" value="#{tagsController.selected.persOffsetFloat}" title="#{OBI.CreateTagsTitle_persOffsetFloat}" />
                    <h:outputLabel value="#{OBI.CreateTagsLabel_persOffsetInt}" for="persOffsetInt" />
                    <h:inputText id="persOffsetInt" value="#{tagsController.selected.persOffsetInt}" title="#{OBI.CreateTagsTitle_persOffsetInt}" />
                    <h:outputLabel value="#{OBI.CreateTagsLabel_persOffsetBool}" for="persOffsetBool" />
                    <h:inputText id="persOffsetBool" value="#{tagsController.selected.persOffsetBool}" title="#{OBI.CreateTagsTitle_persOffsetBool}" />
                    <h:outputLabel value="#{OBI.CreateTagsLabel_persOffsetDateTime}" for="persOffsetDateTime" />
                    <h:inputText id="persOffsetDateTime" value="#{tagsController.selected.persOffsetDateTime}" title="#{OBI.CreateTagsTitle_persOffsetDateTime}" >
                        <f:convertDateTime pattern="MM/dd/yyyy HH:mm:ss" />
                    </h:inputText>

                    <h:outputLabel value="Informations" styleClass="text-end fw-bold"/><hr />
                    <h:outputLabel value="#{OBI.CreateTagsLabel_comment}" for="comment" />
                    <h:inputText id="comment" value="#{tagsController.selected.comment}" title="#{OBI.CreateTagsTitle_comment}" />


                </h:panelGrid>




                <br />
                <div class="container-fluid">
                    <div class="row">
                        <h:commandLink 
                            styleClass="btn btn-outline-primary small me-1 mb-1 col-sm-4  col-md-3 col-lg-2"
                            action="#{tagsController.create}"
                            title="#{OBI.CreateTagsSaveLink}"
                            >
                            <i class="fa-solid fa-floppy-disk me-1"></i>#{OBI.Save}
                        </h:commandLink>


                        <h:commandLink 
                            styleClass="btn btn-outline-primary small me-1 mb-1 col-sm-4  col-md-3 col-lg-2"
                            action="#{tagsController.prepareList}"
                            title="#{OBI.CreateTagsShowAllLink}"
                            immediate="true"
                            >
                            <i class="fa-solid fa-table-list me-1"></i>#{OBI.List}
                        </h:commandLink>


                        <h:commandLink id="homeLink"
                                       styleClass="btn btn-outline-secondary small me-1 mb-1 col-sm-4  col-md-3 col-lg-2"
                                       action="/index.xhtml"
                                       title="#{OBI.CreateTagsIndexLink}"
                                       >
                            <i class="fa-solid fa-gauge me-1"></i>#{OBI.Home}
                        </h:commandLink>
                    </div>
                </div>
            </h:form>
        </ui:define>
    </ui:composition>

</html>
